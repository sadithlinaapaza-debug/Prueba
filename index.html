<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lenguaje de Programación 2 — UNA Puno</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#fff7fb;
      --accent-strong:#ff69b4; /* rosa vivo */
      --accent-soft:#ffa8d9;   /* rosa suave */
      --muted:#1e293b;
      --shadow:0 8px 28px rgba(30,41,59,0.06);
      --mono:'Fira Code', monospace;
      --ui:'Inter', system-ui, Arial, sans-serif;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--ui);
      background:linear-gradient(180deg,#fff,#fff2f7);
      color:var(--muted);
      -webkit-font-smoothing:antialiased;
      padding:20px;
    }

    /* sheet con contorno rosado (mezcla) */
    .sheet{
      max-width:1200px;
      margin:0 auto;
      background:linear-gradient(180deg,#ffffff, #fff8fb);
      border-radius:12px;
      padding:18px;
      box-shadow:var(--shadow);
      border:3px solid var(--accent-soft);
      position:relative;
      overflow:hidden;
    }

    /* sutil borde superior en degradado rosado */
    .sheet::before{
      content:"";
      position:absolute;
      left:0; right:0; top:0;
      height:6px;
      background:linear-gradient(90deg,var(--accent-strong),var(--accent-soft));
    }

    /* hero: logos a izquierda/derecha, texto centrado */
    .hero{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:16px;
      padding:12px;
      border-radius:10px;
      margin-bottom:14px;
      background:linear-gradient(90deg, rgba(255,255,255,0.95), rgba(255,250,253,0.95));
    }
    .hero img{ width:80px; height:80px; object-fit:contain; }
    .hero .meta{ flex:1; text-align:center; } /* texto centrado */
    /* IMPORTANT: header texts below kept exactly as requested */
    .hero h1{ margin:0; font-size:18px; color:var(--accent-strong); font-weight:700; text-transform:uppercase; }
    .hero h2{ margin:6px 0 0 0; font-size:14px; color:var(--accent-strong); font-weight:700; }
    .hero h3{ margin:6px 0 0 0; font-size:13px; color:var(--accent-strong); font-weight:600; }
    .hero p{ margin:6px 0 0 0; font-size:13px; color:var(--muted); }

    /* nav */
    .nav { display:flex; flex-wrap:wrap; gap:8px; margin-bottom:12px; justify-content:center; }
    .nav button{
      background:linear-gradient(180deg,var(--accent-strong),var(--accent-soft));
      color:white; border:0; padding:8px 12px; border-radius:8px; font-weight:700; cursor:pointer;
      box-shadow:0 6px 12px rgba(255,105,180,0.12);
    }
    .nav button:hover{ transform:translateY(-2px) }

    .section{ display:none; padding:12px 6px; background:transparent; border-radius:8px; margin-bottom:12px; }
    .section.active{ display:block; }

    .section h2{ margin-top:0; color:var(--accent-strong); font-size:18px }
    .theory{ color:#4b1053; line-height:1.6; margin-bottom:12px; font-size:14px; text-align:justify; }

    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(300px,1fr));
      gap:14px;
    }
    .card {
      background:#fff;
      border:2px solid rgba(255,105,180,0.12);
      border-radius:10px;
      padding:12px;
      box-shadow:0 6px 16px rgba(0,0,0,0.03);
      position:relative;
    }
    .card h3{ margin:0 0 8px 0; font-size:16px; color:#b21b66; text-align:left; }
    pre{ background:linear-gradient(180deg,#fff6fb,#fff0f8); padding:12px; border-radius:8px; overflow:auto; font-family:var(--mono); font-size:13px; color:#1e293b; white-space:pre; }

    .actions { display:flex; gap:10px; margin-top:8px; flex-wrap:wrap; justify-content:flex-start; }
    .btn {
      border:0; padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:700; font-size:13px;
    }
    .btn-copy{ background:#ffecf6; color:var(--accent-strong); }
    .btn-download{ background:#fff0f6; color:#065f46; border:1px solid rgba(0,0,0,0.04); }

    footer { margin-top:18px; text-align:center; color:#475569; font-size:13px; display:flex; align-items:center; justify-content:center; gap:12px; padding-top:8px; }
    .back-home { background:linear-gradient(180deg,#66a8ff,#007acc); color:white; padding:8px 12px; border-radius:8px; text-decoration:none; font-weight:700; border:0; cursor:pointer; }

    /* botón flotante para volver al inicio */
    .float-home {
      position:fixed;
      right:18px;
      bottom:18px;
      z-index:999;
      background:linear-gradient(180deg,var(--accent-strong),var(--accent-soft));
      color:white;
      border:none;
      padding:12px 14px;
      border-radius:12px;
      box-shadow:0 10px 30px rgba(255,105,180,0.18);
      font-weight:700;
      cursor:pointer;
    }

    @media(max-width:720px){
      .grid{ grid-template-columns: 1fr; }
      .hero{ flex-direction:row; gap:8px; align-items:center; }
      .hero img{ width:64px; height:64px; }
      .hero .meta{ text-align:center; }
    }
  </style>
</head>
<body>
  <div class="sheet">
    <div class="hero">
      <!-- Mantengo las imágenes en los lados exactamente como pediste -->
      <div><img src="logo-facultad.png" alt="Logo Facultad" /></div>

      <div class="meta">
        <h1>Universidad Nacional del Altiplano - Puno</h1>
        <h2>Facultad de Ingeniería Estadística e Informática</h2>
        <h3>Curso: Lenguaje de Programación 2</h3>
        <p><strong>Estudiante:</strong> Sadith Lina Apaza Huayta</p>
        <p><strong>Docente:</strong> Ing. Leonel Coyla Idme</p>
      </div>

      <div><img src="logo-una.png" alt="Logo UNA" /></div>
    </div>

    <!-- Navegación: incluye Inicio -->
    <div class="nav">
      <button onclick="show('home')">Inicio</button>
      <button onclick="show('orientada')">Programación Orientada a Objetos</button>
      <button onclick="show('selectiva')">Estructura Selectiva</button>
      <button onclick="show('repetitiva')">Estructura Repetitiva</button>
      <button onclick="show('encapsulamiento')">Encapsulamiento</button>
      <button onclick="show('metodos')">Método y Sobrecarga</button>
      <button onclick="show('operador')">Método Operador</button>
      <button onclick="show('constructores')">Constructores y Destructor</button>
      <button onclick="show('relaciones')">Relación entre Clases</button>
    </div>

    <!-- SECCIÓN INICIO (introducción del curso y códigos) -->
    <section id="home" class="section active">
      <h2>Introducción al curso</h2>
      <p class="theory">
        Lenguaje de Programación 2 profundiza en conceptos clave de programación estructurada y orientada a objetos, incluyendo encapsulamiento,
        constructores y destructores, sobrecarga de métodos y operadores, así como estructuras de control selectivas y repetitivas.
        Este repositorio compila implementaciones prácticas y ejemplos en Python que ilustran cada concepto: desde clases básicas y ejemplos de herencia,
        hasta algoritmos simples de manejo de colecciones y problemas clásicos (factorial, Fibonacci, tablas, etc.).
      </p>

      <p class="theory">
        Cada tarjeta contiene el bloque de código correspondiente a un ejercicio o tarea, pensado para servir como material de estudio y referencia.
        Los fragmentos mantienen la estructura original del curso para facilitar el análisis y la comparación entre distintas soluciones propuestas por los estudiantes.
      </p>

      <p class="theory"><strong>Contenido incluido:</strong> ejercicios sobre Programación Orientada a Objetos, Estructuras Selectivas y Repetitivas, Encapsulamiento,
      Métodos y Sobrecarga, Operadores, Constructores y relaciones entre clases.</p>
    </section>

    <!-- Programación Orientada a Objetos -->
    <section id="orientada" class="section">
      <h2>Programación Orientada a Objetos</h2>
      <div class="grid">
        <!-- Ejercicio 1 -->
        <div class="card">
          <h3>Ejercicio 1</h3>
          <pre><code class="language-python">
class Coche:
    def __init__(self,marca,modelo,color):
        self.marca = marca
        self.modelo = modelo
        self.color = color

    def mostrar_info(self):
        print(f"Coche:{self.marca} {self.modelo} {self.color}")

    def arrancar(self):
        print(f"Coche {self.marca} {self.modelo} ha arrancado ")

# Solicitar datos al usuario
marca = input("Ingrese la marca del coche")
modelo = input("Ingrese el modelo del auto")
color = input("Ingrese el color del coche")
        
# Crear un objeto
mi_coche = Coche(marca, modelo, color)

# Usar los métodos
mi_coche.mostrar_info()
mi_coche.arrancar()
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <!-- Ejercicio 2 -->
        <div class="card">
          <h3>Ejercicio 2</h3>
          <pre><code class="language-python">
class Pitagoras:
    def __init__(self,catetoa,catetob):
       self.catetoa = catetoa
       self.catetob = catetob

    def calcular_hipotenusa(self):
        return (self.catetoa**2 + self.catetob**2)**(1/2)

#Solicitud
catetoa = float(input("Ingrese cateto a = "))
catetob = float(input("Ingrese cateto b = "))

operacion = Pitagoras(catetoa,catetob)

print("La hipotenusa es ",operacion.calcular_hipotenusa())   
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <!-- Ejercicio 3 -->
        <div class="card">
          <h3>Ejercicio 3</h3>
          <pre><code class="language-python">
class Rectangulo:
    def __init__(self,base,altura):
        self.base = base
        self.altura = altura

    def area(self):
        return (self.base * self.altura)

    def perimetro(self):
        return (self.base*2 + self.altura*2)

operacion_area = Rectangulo(5,6)
operacion_perimetro = Rectangulo(5,6)

print("El area es ",operacion_area.area())

print("El perimetro es ",operacion_perimetro.perimetro())
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <!-- Ejercicio 4 -->
        <div class="card">
          <h3>Ejercicio 4</h3>
          <pre><code class="language-python">
class CantidadLadrillos:
    def __init__(self,longuitud,altura,ancho,Jh,Jv):
        self.longuitud = longuitud
        self.altura = altura
        self.ancho = ancho
        self.Jh = 0.015
        self.Jv = 0.015

    def Cantidad_de_ladrillos(self):
        return (1/((longuitud + Jh) * (altura + Jv)))

#Solicitar

longuitud = float(input("Ingresar longuitud: "))
altura = float(input("Ingresar altura: "))
ancho = float(input("Ingresar ancho: "))
Jh = 0.015
Jv = 0.015

operacion = CantidadLadrillos(longuitud,altura,ancho,Jh,Jv)
print("La cantidad es ",operacion.Cantidad_de_ladrillos(),"m^2 sin desperdicio")
print("La cantidad es ",operacion.Cantidad_de_ladrillos()*1.05,"m^2 con desperdicio")
print("el area",operacion.Cantidad_de_ladrillos()*8.05*ancho,"m^2")
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

      </div>
    </section>

    <!-- Estructura Selectiva -->
    <section id="selectiva" class="section">
      <h2>Estructura Selectiva</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejercicio 5</h3>
          <pre><code class="language-python">
class Numero:
    def __init__(self,valor):
        self.valor = valor

    def clasificar(self):
        if self.valor == 0:
            return "Nulo"
        elif self.valor%2 == 0:
            return "Par"
        else:
            return "Impar"
ejemplos = [Numero(0),Numero(2),Numero(5)]

for num in ejemplos:
    tipo = num.clasificar()
    print(f"El numero {num.valor} es {tipo}")
  
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <div class="card">
          <h3>Ejercicio 6</h3>
          <pre><code class="language-python">
class Persona:
    def __init__(self,nombre,edad):
        self.nombre = nombre
        self.edad = edad

    def es_mayor_de_edad(self):
        if self.edad >= 18:
            return True
        else:
            return False 

persona = Persona("Maria",25)

if persona.es_mayor_de_edad():
    print(f"La persona {persona.nombre} es mayor de edad")

else:
    print(f"La persona {persona.nombre} es menor de edad")  
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <div class="card">
          <h3>Ejercicio 7</h3>
          <pre><code class="language-python">
class Empleado:
    def __init__(self,Nombre,Cargo,Salario):
        self.Nombre = Nombre
        self.Cargo = Cargo
        self.Salario = Salario

    def AplicarAumento(self):
        if self.Cargo == "Gerente":
            porcentaje = 0.1
        elif self.Cargo == "Supervisor":
            porcentaje = 0.07
        elif self.Cargo == "Operario":
            porcentaje = 0.05
        else:
            porcentaje = 0

        NuevoSalario = self.Salario *(1 + porcentaje)
        return NuevoSalario
    
Nombre = float(input("Ingrese Nombre"))
Cargo = float(input("Ingrese Cargo"))
Salarion = float(input("Ingrese Salario"))

nuevo = self.Salario *(1 + porcentaje)
    
print(f"{emp.Nombre} {emp.Cargo}: salario nuevo = {nuevo:2f}")  
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <div class="card">
          <h3>Tarea 1: Signos del Zodiaco</h3>
          <pre><code class="language-python">
class Persona:
    def __init__(self, nombre, dia, mes):
        self.nombre = nombre
        self.dia = dia
        self.mes = mes

    def signo(self):
        if (self.mes == "enero" and self.dia >= 20) or (self.mes == "febrero" and self.dia <= 18):
            return "Acuario"
        elif (self.mes == "febrero" and self.dia >= 19) or (self.mes == "marzo" and self.dia <= 20):
            return "Piscis"
        elif (self.mes == "marzo" and self.dia >= 21) or (self.mes == "abril" and self.dia <= 19):
            return "Aries"
        elif (self.mes == "abril" and self.dia >= 20) or (self.mes == "mayo" and self.dia <= 20):
            return "Tauro"
        elif (self.mes == "mayo" and self.dia >= 21) or (self.mes == "junio" and self.dia <= 20):
            return "Géminis"
        elif (self.mes == "junio" and self.dia >= 21) or (self.mes == "julio" and self.dia <= 22):
            return "Cáncer"
        elif (self.mes == "julio" and self.dia >= 23) or (self.mes == "agosto" and self.dia <= 22):
            return "Leo"
        elif (self.mes == "agosto" and self.dia >= 23) or (self.mes == "septiembre" and self.dia <= 22):
            return "Virgo"
        elif (self.mes == "septiembre" and self.dia >= 23) or (self.mes == "octubre" and self.dia <= 22):
            return "Libra"
        elif (self.mes == "octubre" and self.dia >= 23) or (self.mes == "noviembre" and self.dia <= 21):
            return "Escorpio"
        elif (self.mes == "noviembre" and self.dia >= 22) or (self.mes == "diciembre" and self.dia <= 21):
            return "Sagitario"
        elif (self.mes == "diciembre" and self.dia >= 22) or (self.mes == "enero" and self.dia <= 19):
            return "Capricornio"
        else:
            return "Fecha inválida"

nombre = input("Ingresa tu nombre: ")
dia = float(input("Ingresa tu día de nacimiento: "))
mes = input("Ingresa tu mes de nacimiento: ")

persona = Persona(nombre,dia,mes)
print(f"{persona.nombre} nacio el {persona.dia} de {persona.mes} y tu signo es {persona.signo()}")  
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

      </div>
    </section>

    <!-- Repetitiva -->
    <section id="repetitiva" class="section">
      <h2>Estructura Repetitiva</h2>
      <div class="grid">
        <!-- Ejercicio 8 -->
        <div class="card">
          <h3>Ejercicio 8</h3>
          <pre><code class="language-python">
class Factorial:
    def __init__(self,numero):
        self.numero = numero
        self.resultado = 1

    def calcular(self):
        if self.numero < 0:
            print("El factorial no esta definido para numeros negativos")
            return None
        for i in range(1,self.numero+1):
            self.resultado *= i
        return self.resultado

def main():
        miFactorial = Factorial(5)
        resultado = miFactorial.calcular()
        if resultado is not None:
            print(f"El factorial de {miFactorial.numero} es {resultado}")
if __name__=="__main__":
    main()   
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>

        <!-- (otros ejercicios permanecen en el archivo completo si los deseas añadidos) -->

      </div>
    </section>

    <!-- Encapsulamiento -->
    <section id="encapsulamiento" class="section">
      <h2>Encapsulamiento</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejercicio 19</h3>
          <pre><code class="language-python">
class leerNumero:
    def __init__(self,numero):
        self.numero = numero

    def Rango_Numero(self):
        if 1 <= self.numero <= 10:
            print(f"El numero {self.numero} esta dentro de los 10 primeros")
        elif self.numero < 1:
            diferencia = 0 - self.numero
            print(f"El numero {self.numero} es {diferencia} menos que 1")
        else:
            diferencia = self.numero - 10
            print(f"El numero {self.numero} es {diferencia} mas que 10")

def main():
    valor = int(input("Ingresa un numero del 1 al 10: "))
    numero = leerNumero(valor)
    numero.Rango_Numero()
if __name__=="__main__":
    main()
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Métodos -->
    <section id="metodos" class="section">
      <h2>Método y Sobrecarga</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejemplo: Ejercicio 24</h3>
          <pre><code class="language-python">
class Persona:
    def __init__(self,nombre):
        self.nombre = nombre

    def saludar(self):
        print(f"Hola, soy {self.nombre}")

    def respomde(self):
        print(f"Hola {self.nombre}")

persona1 = Persona("Carlos")
persona1.saludar()
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Operador -->
    <section id="operador" class="section">
      <h2>Método Operador</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejercicio 30</h3>
          <pre><code class="language-python">
class Persona:
    def __init__(self,nombre,edad):
        self.nombre = nombre
        self.edad = edad

    def __str__(self):
        return f"{self.nombre},{self.edad} años"

    def __eq__(self ,otra):
        return self.edad == otra.edad

    def __gt__(self,otra):
        return self.edad > otra.edad

    def __add__(self,otra):
        return self.edad + otra.edad
    
persona1 = Persona("Carlos",30)
persona2 = Persona("Ana",25)
persona3 = Persona("Lucia",30)

print(persona1)
print(persona2)
print(persona3)

print(persona1 == persona2)
print(persona1 == persona3)

print(persona1>persona2)

print("Suma de edades",persona1 + persona2)
print("Suma de edades",persona1 + persona3)
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Constructores -->
    <section id="constructores" class="section">
      <h2>Constructos y Destructor</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejercicio 33</h3>
          <pre><code class="language-python">
import math
class TrianguloRectangulo:
    def __init__(self,cateto_a,cateto_b):#constructor
        self.cateto_a = cateto_a
        self.cateto_b = cateto_b

    def calcular_hipotenusa(self):
        hipotenusa = math.sqrt(self.cateto_a**2 + self.cateto_b**2)
        return hipotenusa

    def __del__(self):
        print("Objeto TrianguloRectangulo destruido")

def main():

    cateto1 = float(input("Ingrese el valor del primer cateto: "))
    cateto2 = float(input("Ingrese el valor del segundo cateto: "))

    triangulo = TrianguloRectangulo(cateto1,cateto2)
    resultado = triangulo.calcular_hipotenusa()

    print(f"La hipotenusa del triangulo es {resultado}")

if __name__=="__main__":
    main()
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Relaciones -->
    <section id="relaciones" class="section">
      <h2>Relacion entre Clases</h2>
      <div class="grid">
        <div class="card">
          <h3>Ejercicio 40</h3>
          <pre><code class="language-python">
class Profesor:
    def __init__(self,nombre):
        self.nombre = nombre

class Curso:
    def __init__(self,nombre,profesor):
        self.nombre = nombre
        self.profesor = profesor

prof = Profesor("Dr.Morillos")
curso = Curso("Muestreo",prof)
print(curso.profesor.nombre)
          </code></pre>
          <div class="actions">
            <button class="btn btn-copy" data-action="copy">Copiar</button>
            <button class="btn btn-download" data-action="download">Descargar .py</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer con botón volver al inicio -->
    <footer>
      <button class="back-home" onclick="show('home')">⬅ Volver al inicio</button>
      <div>© 2025 Facultad de Ingeniería Estadística e Informática — UNA Puno</div>
    </footer>
  </div>

  <!-- Botón flotante -->
  <button class="float-home" onclick="show('home')">Inicio</button>

  <script>
    // Mostrar sección
    function show(id){
      document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
      const el = document.getElementById(id);
      if(el) el.classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    }

    // Por defecto mostrar 'home'
    show('home');

    // Sanitize filename
    function sanitizeFilename(title){
      return title.toLowerCase().replace(/\s+/g,'_').replace(/[^a-z0-9_\-\.]/g,'').substring(0,60) || 'codigo';
    }

    // Copiar / descargar (delegado)
    document.addEventListener('click', function(e){
      const btn = e.target.closest('button[data-action]');
      if(!btn) return;
      const action = btn.getAttribute('data-action');
      const card = btn.closest('.card');
      if(!card) return;
      const codeEl = card.querySelector('pre code');
      const titleEl = card.querySelector('h3');
      const titleText = titleEl ? titleEl.textContent.trim() : 'codigo';
      const text = codeEl ? codeEl.textContent : '';

      if(action === 'copy'){
        if(!text){ alert('No hay código para copiar.'); return; }
        if(navigator.clipboard && navigator.clipboard.writeText){
          navigator.clipboard.writeText(text).then(()=> {
            const old = btn.textContent;
            btn.textContent = 'Copiado ✓';
            setTimeout(()=> btn.textContent = old, 1200);
          }).catch(()=> fallbackCopy(text, btn));
        } else {
          fallbackCopy(text, btn);
        }
      } else if(action === 'download'){
        if(!text){ alert('No hay código para descargar.'); return; }
        const filename = sanitizeFilename(titleText) + '.py';
        triggerDownload(filename, text);
        const old = btn.textContent;
        btn.textContent = 'Descargado ✓';
        setTimeout(()=> btn.textContent = old, 1200);
      }
    });

    function fallbackCopy(text, btn){
      const ta = document.createElement('textarea');
      ta.value = text;
      ta.style.position = 'fixed';
      ta.style.left = '-9999px';
      document.body.appendChild(ta);
      ta.select();
      try{
        document.execCommand('copy');
        const old = btn.textContent;
        btn.textContent = 'Copiado ✓';
        setTimeout(()=> btn.textContent = old, 1200);
      }catch(e){
        alert('No se pudo copiar automáticamente. Seleccione y copie manualmente.');
      }
      ta.remove();
    }

    function triggerDownload(filename, content){
      const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    }

  </script>
</body>
</html>
